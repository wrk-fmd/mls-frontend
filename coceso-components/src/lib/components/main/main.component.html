<mat-toolbar color="primary">
  <div>
    <h2 translate>coceso.header</h2>
  </div>

  <ul class="nav">
    <!-- Units -->
    <li>
      <button mat-button [matMenuTriggerFor]="unitMenu">
        <span translate>main.nav.units.header</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #unitMenu="matMenu">
        <button mat-menu-item (click)="showUnits()">
          <mat-icon>group</mat-icon>
          <span translate>main.nav.units.overview</span>
        </button>

        <button mat-menu-item (click)="showUnitsHierarchy()">
          <mat-icon>group</mat-icon>
          <span translate>main.nav.units.hierarchy</span>
        </button>

        <button mat-menu-item (click)="showUnitsAlarm()">
          <mat-icon>campaign</mat-icon>
          <span translate>main.nav.units.alarm</span>
        </button>

        <button mat-menu-item (click)="showUnitsAvailable()">
          <mat-icon>how_to_reg</mat-icon>
          <span translate>main.nav.units.available</span>
        </button>

        <button mat-menu-item (click)="showUnitsFree()">
          <mat-icon>emoji_people</mat-icon>
          <span translate>main.nav.units.free</span>
        </button>
      </mat-menu>
    </li>

    <!-- Incidents -->
    <li>
      <button mat-button [matMenuTriggerFor]="incidentMenu">
        <span translate>main.nav.incidents.header</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #incidentMenu="matMenu">
        <button mat-menu-item (click)="createIncident()">
          <mat-icon>add</mat-icon>
          <span translate>main.nav.incidents.createIncident</span>
        </button>

        <button mat-menu-item (click)="createRelocation()">
          <mat-icon>send</mat-icon>
          <span translate>main.nav.incidents.createRelocation</span>
        </button>

        <mat-divider></mat-divider>

        <button mat-menu-item (click)="showAllIncidents()">
          <mat-icon>list</mat-icon>
          <span translate>main.nav.incidents.showAll</span>
        </button>

        <button mat-menu-item (click)="showActiveTasks()">
          <mat-icon>list</mat-icon>
          <span translate>main.nav.incidents.showActiveTasks</span>
        </button>

        <button mat-menu-item (click)="showActivePositions()">
          <mat-icon>adjust</mat-icon>
          <span translate>main.nav.incidents.showActivePositions</span>
        </button>

        <button mat-menu-item (click)="showHighlightedIncidents()">
          <mat-icon>schedule</mat-icon>
          <span translate>main.nav.incidents.showHighlightedIncidents</span>
        </button>

        <button mat-menu-item (click)="showDoneIncidents()">
          <mat-icon>done_all</mat-icon>
          <span translate>main.nav.incidents.showDone</span>
        </button>

        <mat-divider></mat-divider>

        <button mat-menu-item (click)="showAllTransports()">
          <mat-icon>local_shipping</mat-icon>
          <span translate>main.nav.incidents.showAllTransports</span>
        </button>

        <button mat-menu-item (click)="showHighlightedTransports()">
          <mat-icon>local_shipping</mat-icon>
          <span translate>main.nav.incidents.showHighlightedTransports</span>
        </button>
      </mat-menu>
    </li>

    <!-- Windows -->
    <li>
      <button mat-button [matMenuTriggerFor]="windowMenu">
        <span translate>main.nav.windows.header</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #windowMenu="matMenu">
        <button mat-menu-item (click)="showCustomJournal()">
          <mat-icon>info</mat-icon>
          <span translate>main.nav.windows.showCustomJournal</span>
        </button>

        <button mat-menu-item (click)="addJournalEntry()">
          <mat-icon>note_add</mat-icon>
          <span translate>main.nav.windows.addJournalEntry</span>
        </button>

        <button mat-menu-item (click)="showPatients()">
          <mat-icon>person</mat-icon>
          <span translate>main.nav.windows.showPatients</span>
        </button>

        <button mat-menu-item (click)="showMessages()">
          <mat-icon>call</mat-icon>
          <span translate>main.nav.windows.showMessages</span>
        </button>

        <mat-divider></mat-divider>

        <a mat-menu-item routerLink="../edit" target="_blank">
          <mat-icon>launch</mat-icon>
          <span translate>main.nav.windows.edit</span>
        </a>

        <a mat-menu-item routerLink="../dashboard" target="_blank">
          <mat-icon>launch</mat-icon>
          <span translate>main.nav.windows.dashboard</span>
        </a>

        <mat-divider></mat-divider>

        <button mat-menu-item (click)="showJournal()">
          <mat-icon>info</mat-icon>
          <span translate>main.nav.windows.showJournal</span>
        </button>
      </mat-menu>
    </li>

    <li *ngIf="sections | async as sections">
      <button mat-button [matMenuTriggerFor]="filterMenu">
        <span translate>main.nav.filter.header</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #filterMenu="matMenu">
        <button mat-menu-item (click)="setSection(null)" [ngClass]="{'mat-menu-item-highlighted': !activeSection}">
          <mat-icon>not_interested</mat-icon>
          <span translate>main.nav.filter.none</span>
        </button>

        <button mat-menu-item *ngFor="let section of sections" (click)="setSection(section)"
                [ngClass]="{'mat-menu-item-highlighted': activeSection === section}">
          <mat-icon>filter</mat-icon>
          <span>{{section}}</span>
        </button>
      </mat-menu>
    </li>

    <li>
      <a mat-button routerLink="..">
        <span translate>main.nav.quit</span>
      </a>
    </li>
  </ul>

  <div class="fill-remaining-space"></div>

  <ul class="nav">
    <li>
      <button mat-icon-button [matTooltip]="'main.nav.incidents.createIncident' | translate" (click)="createIncident()">
        <mat-icon>add_circle</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'main.nav.incidents.createRelocation' | translate" (click)="createRelocation()">
        <mat-icon>send</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'main.nav.windows.addJournalEntry' | translate" (click)="addJournalEntry()">
        <mat-icon>note_add</mat-icon>
      </button>
    </li>
  </ul>

  <div class="fill-remaining-space"></div>

  <ul class="nav">
    <li>
      <button mat-icon-button [matTooltip]="'main.nav.connected' | translate">
        <mat-icon *ngIf="connected">cloud_queue</mat-icon>
        <mat-icon *ngIf="!connected" color="accent">cloud_off</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'main.nav.incidents.showHighlightedIncidents' | translate" (click)="showHighlightedIncidents()">
        <mat-icon [matBadge]="highlightedIncidents | async" matBadgeColor="accent">schedule</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'main.nav.incidents.showHighlightedTransports' | translate"
              (click)="showHighlightedTransports()">
        <mat-icon [matBadge]="highlightedTransports | async" matBadgeColor="accent">local_shipping</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'main.nav.units.alarm' | translate" (click)="showUnitsAlarm()">
        <mat-icon [matBadge]="alarmUnits | async" matBadgeColor="accent">campaign</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'main.nav.units.free' | translate" (click)="showUnitsFree()">
        <mat-icon [matBadge]="freeUnits | async" matBadgeColor="accent">emoji_people</mat-icon>
      </button>
    </li>

    <li *ngIf="concern | async as concern">
      <button mat-icon-button [matTooltip]="concern.name" (click)="showInfo(concern.info)">
        <mat-icon>help</mat-icon>
      </button>
    </li>
  </ul>

  <coceso-main-clock></coceso-main-clock>
</mat-toolbar>

<mls-window-manager></mls-window-manager>
