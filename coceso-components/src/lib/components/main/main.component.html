<mat-toolbar color="primary">
  <div>
    <h2 translate>nav.header</h2>
  </div>

  <ul class="nav">
    <!-- Units -->
    <li>
      <button mat-button [matMenuTriggerFor]="unitMenu">
        <span translate>unit.views.header</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #unitMenu="matMenu">
        <button mat-menu-item (click)="showUnits()">
          <mat-icon>group</mat-icon>
          <span translate>unit.views.overview</span>
        </button>

        <button mat-menu-item (click)="showUnitsHierarchy()">
          <mat-icon>group</mat-icon>
          <span translate>unit.views.hierarchy</span>
        </button>

        <button mat-menu-item (click)="showUnitsAlarm()">
          <mat-icon>campaign</mat-icon>
          <span translate>unit.views.alarm</span>
        </button>

        <button mat-menu-item (click)="showUnitsAvailable()">
          <mat-icon>how_to_reg</mat-icon>
          <span translate>unit.views.available</span>
        </button>

        <button mat-menu-item (click)="showUnitsWaiting()">
          <mat-icon>emoji_people</mat-icon>
          <span translate>unit.views.waiting</span>
        </button>
      </mat-menu>
    </li>

    <!-- Incidents -->
    <li>
      <button mat-button [matMenuTriggerFor]="incidentMenu">
        <span translate>incident.views.header</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #incidentMenu="matMenu">
        <button mat-menu-item (click)="createIncident()">
          <mat-icon>add</mat-icon>
          <span translate>incident.form.create.incident</span>
        </button>

        <button mat-menu-item (click)="createPosition()">
          <mat-icon>send</mat-icon>
          <span translate>incident.form.create.position</span>
        </button>

        <mat-divider></mat-divider>

        <button mat-menu-item (click)="showAllIncidents()">
          <mat-icon>list</mat-icon>
          <span translate>incident.views.all</span>
        </button>

        <button mat-menu-item (click)="showActiveTasks()">
          <mat-icon>list</mat-icon>
          <span translate>incident.views.activeTasks</span>
        </button>

        <button mat-menu-item (click)="showActivePositions()">
          <mat-icon>adjust</mat-icon>
          <span translate>incident.views.activePositions</span>
        </button>

        <button mat-menu-item (click)="showHighlightedIncidents()">
          <mat-icon>schedule</mat-icon>
          <span translate>incident.views.highlightedIncidents</span>
        </button>

        <button mat-menu-item (click)="showDoneIncidents()">
          <mat-icon>done_all</mat-icon>
          <span translate>incident.views.done</span>
        </button>

        <mat-divider></mat-divider>

        <button mat-menu-item (click)="showAllTransports()">
          <mat-icon>local_shipping</mat-icon>
          <span translate>incident.views.allTransports</span>
        </button>

        <button mat-menu-item (click)="showHighlightedTransports()">
          <mat-icon>local_shipping</mat-icon>
          <span translate>incident.views.highlightedTransports</span>
        </button>
      </mat-menu>
    </li>

    <!-- Windows -->
    <li>
      <button mat-button [matMenuTriggerFor]="windowMenu">
        <span translate>nav.windows</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #windowMenu="matMenu">
        <button mat-menu-item (click)="showCustomJournal()">
          <mat-icon>info</mat-icon>
          <span translate>journal.views.custom</span>
        </button>

        <button mat-menu-item (click)="addJournalEntry()">
          <mat-icon>note_add</mat-icon>
          <span translate>journal.actions.add</span>
        </button>

        <button mat-menu-item (click)="showPatients()">
          <mat-icon>person</mat-icon>
          <span translate>patient.views.all</span>
        </button>

        <button mat-menu-item (click)="showMessages()">
          <mat-icon>call</mat-icon>
          <span translate>message.received.title</span>
        </button>

        <mat-divider></mat-divider>

        <a mat-menu-item routerLink="../edit" target="_blank">
          <mat-icon>launch</mat-icon>
          <span translate>nav.edit</span>
        </a>

        <a mat-menu-item routerLink="../dashboard" target="_blank">
          <mat-icon>launch</mat-icon>
          <span translate>nav.dashboard</span>
        </a>

        <mat-divider></mat-divider>

        <button mat-menu-item (click)="showJournal()">
          <mat-icon>info</mat-icon>
          <span translate>journal.views.log</span>
        </button>
      </mat-menu>
    </li>

    <li *ngIf="sections | async as sections">
      <button mat-button [matMenuTriggerFor]="filterMenu">
        <span translate>concern.data.section.list</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #filterMenu="matMenu">
        <button mat-menu-item (click)="setSection(null)" [ngClass]="{'mat-menu-item-highlighted': !activeSection}">
          <mat-icon>not_interested</mat-icon>
          <span translate>concern.data.section.none</span>
        </button>

        <button mat-menu-item *ngFor="let section of sections" (click)="setSection(section)"
                [ngClass]="{'mat-menu-item-highlighted': activeSection === section}">
          <mat-icon>filter</mat-icon>
          <span>{{section}}</span>
        </button>
      </mat-menu>
    </li>

    <li>
      <a mat-button routerLink="..">
        <span translate>nav.quit</span>
      </a>
    </li>
  </ul>

  <div class="fill-remaining-space"></div>

  <ul class="nav">
    <li>
      <button mat-icon-button [matTooltip]="'incident.form.create.incident' | translate" (click)="createIncident()">
        <mat-icon>add_circle</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'incident.form.create.position' | translate" (click)="createPosition()">
        <mat-icon>send</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'journal.actions.add' | translate" (click)="addJournalEntry()">
        <mat-icon>note_add</mat-icon>
      </button>
    </li>
  </ul>

  <div class="fill-remaining-space"></div>

  <ul class="nav">
    <li>
      <button mat-icon-button [matTooltip]="'nav.connection' | translate">
        <mat-icon *ngIf="connected">cloud_queue</mat-icon>
        <mat-icon *ngIf="!connected" color="accent">cloud_off</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'incident.views.highlightedIncidents' | translate" (click)="showHighlightedIncidents()">
        <mat-icon [matBadge]="highlightedIncidents | async" matBadgeColor="accent">schedule</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'incident.views.highlightedTransports' | translate"
              (click)="showHighlightedTransports()">
        <mat-icon [matBadge]="highlightedTransports | async" matBadgeColor="accent">local_shipping</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'unit.views.alarm' | translate" (click)="showUnitsAlarm()">
        <mat-icon [matBadge]="alarmUnits | async" matBadgeColor="accent">campaign</mat-icon>
      </button>
    </li>

    <li>
      <button mat-icon-button [matTooltip]="'unit.views.waiting' | translate" (click)="showUnitsWaiting()">
        <mat-icon [matBadge]="waitingUnits | async" matBadgeColor="accent">emoji_people</mat-icon>
      </button>
    </li>

    <li *ngIf="concern | async as concern">
      <button mat-icon-button [matTooltip]="concern.name" (click)="showInfo(concern.info)">
        <mat-icon>help</mat-icon>
      </button>
    </li>
  </ul>

  <coceso-main-clock></coceso-main-clock>
</mat-toolbar>

<mls-window-manager></mls-window-manager>
