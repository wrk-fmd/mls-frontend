<div *ngIf="container">
  <ul class="unit-list" *ngIf="container.unitsData as units">
    <coceso-main-unit *ngFor="let unit of units" [unit]="unit"></coceso-main-unit>
  </ul>

  <mat-accordion multi *ngIf="container.childrenData as children">
    <mat-expansion-panel class="container-panel mat-elevation-z4" *ngFor="let child of children"
                         [expanded]="isExpanded(child.id)" (expandedChange)="setExpanded(child.id, $event)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{child.name}} ({{child.availableUnits}}/{{child.totalUnits}})
        </mat-panel-title>
      </mat-expansion-panel-header>

      <coceso-main-unit-container [container]="child" [hiddenContainers]="hiddenContainers"></coceso-main-unit-container>
    </mat-expansion-panel>
  </mat-accordion>
</div>
