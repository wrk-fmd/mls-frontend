<div *ngIf="options | async as options">
  <mat-dialog-content>
    <h3>{{options.info | translate}}</h3>

    <dl *ngIf="incident | async as incident">
      <dt translate>task.state.label</dt>
      <dd>{{'task.state.values.' + options.currentState | translate}}</dd>

      <ng-container *ngIf="incident.bo">
        <dt translate>incident.data.bo.label</dt>
        <dd><span class="pre">{{incident.bo | cocesoPoint}}</span></dd>
      </ng-container>

      <ng-container *ngIf="incident.ao">
        <dt translate>incident.data.ao.label</dt>
        <dd><span class="pre">{{incident.ao | cocesoPoint}}</span></dd>
      </ng-container>

      <ng-container *ngIf="incident.blue">
        <dt translate>incident.data.blue.label</dt>
        <dd translate>form.yes</dd>
      </ng-container>

      <ng-container *ngIf="incident.caller">
        <dt translate>incident.data.caller.short</dt>
        <dd>{{incident.caller}}</dd>
      </ng-container>

      <ng-container *ngIf="incident.info">
        <dt translate>incident.data.info.label</dt>
        <dd><span class="pre">{{incident.info}}</span></dd>
      </ng-container>

      <ng-container *ngFor="let unit of units | async">
        <dt>{{unit.call}}</dt>
        <dd>{{'task.state.values.' + unit.state | translate}}</dd>
      </ng-container>
    </dl>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-flat-button color="primary" (click)="setState(options.nextState)">{{options.button | translate}}</button>
  </mat-dialog-actions>
</div>
