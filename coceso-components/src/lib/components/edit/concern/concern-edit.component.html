<main>
  <form [formGroup]="form" (ngSubmit)="save()">
    <mat-card class="mat-elevation-z4">
      <mat-card-title translate>concern.edit.header</mat-card-title>
      <mat-card-content>
        <mls-form-text [control]="form.controls.name" label="concern.name" [required]="true" [max]="100"></mls-form-text>
        <mls-form-multiline [control]="form.controls.info" label="concern.info"></mls-form-multiline>
      </mat-card-content>

      <mat-card-actions>
        <button mat-flat-button color="primary" [disabled]="saveDisabled">
          {{'concern.edit.submit' | translate}}
        </button>
      </mat-card-actions>
    </mat-card>
  </form>

  <mat-card class="mat-elevation-z4">
    <mat-card-title translate>concern.edit.sections</mat-card-title>
    <mat-card-content>
      <mat-form-field>
        <mat-chip-list #sectionList>
          <mat-chip *ngFor="let section of sections" [removable]="true" (removed)="removeSection(section)">
            {{section}}
            <mat-icon matChipRemove>cancel</mat-icon>
          </mat-chip>
          <input [formControl]="sectionForm" [matChipInputFor]="sectionList" (matChipInputTokenEnd)="addSection($event.value)"
                 required maxlength="30">
        </mat-chip-list>
      </mat-form-field>
    </mat-card-content>
  </mat-card>
</main>
