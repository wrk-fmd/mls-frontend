<ng-container *ngIf="concern | async as concern">
  <mat-toolbar color="primary">
    <h2 translate>nav.header</h2>
    <h3 class="concern-name">{{concern.name}}</h3>

    <ul class="nav">
      <ng-container *ngIf="!concern.closed">
        <li><a mat-button routerLink="main">{{'nav.main' | translate}}</a></li>
        <li><a mat-button routerLink="edit">{{'nav.edit' | translate}}</a></li>
      </ng-container>
      <li class="fill-remaining-space"></li>
      <li><a mat-button routerLink="/concerns">{{'nav.switch' | translate}}</a></li>
    </ul>
  </mat-toolbar>

  <main>
    <mat-card class="mat-elevation-z4">
      <mat-card-title>{{concern.name}}</mat-card-title>
      <mat-card-content *ngIf="concern.info" class="pre">{{concern.info}}</mat-card-content>

      <mat-card-actions *ngIf="concern.closed">
        <button mat-button [disabled]="loading" (click)="setConcernOpen(true)">{{'concern.actions.open.label' | translate}}</button>
      </mat-card-actions>
      <mat-card-actions *ngIf="!concern.closed">
        <a mat-flat-button color="primary" routerLink="main">{{'nav.main' | translate}}</a>
        <a mat-button routerLink="edit">{{'nav.edit' | translate}}</a>
        <button mat-button [disabled]="loading" (click)="setConcernOpen(false)">{{'concern.actions.close.label' | translate}}</button>
      </mat-card-actions>
    </mat-card>

    <mat-card class="mat-elevation-z4">
      <mat-card-title translate>report.header</mat-card-title>
      <mat-card-content>
        TODO
      </mat-card-content>
    </mat-card>
  </main>
</ng-container>
